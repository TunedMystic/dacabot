{{define "index"}}
{{template "header"}}


<div class="m-auto p-2 antialiased" style="min-width: 700px; max-width: 700px;">

    <!-- Header -->
    <header class="app-header w-full border-4 border-gray-800 rounded-lg py-2 my-8">
        <div class="flex flex-col items-center justify-center">
            <div class="">
                <h1 class="text-4xl font-bold">Dacabot</h1>
            </div>
            <div class="flex flex-col items-center">
                <p class="text-xl text-gray-600">DACA news and resources from around the web</p>
                <p class="text-xl">ü§ñ üìù ‚úÖ</p>
            </div>
        </div>
    </header>

    <!-- Search form -->
    <div class="relative">
        <form action="/" id="querysearch" class="relative">
            <input
                id="docsearch"
                class="appearance-none leading-normal block w-full transition-colors duration-100 ease-in-out focus:outline-none border border-transparent focus:bg-gray-100 focus:border-indigo-400 placeholder-gray-600 rounded-lg bg-gray-200 py-2 pr-4 pl-10"
                type="text"
                placeholder="Search DACA news"
                name="q"
                {{if .SearchText}}value="{{.SearchText}}"{{end}}
            >
            <div class="pointer-events-none absolute inset-y-0 left-0 pl-4 flex items-center">
                <svg class="fill-current pointer-events-none text-gray-600 w-4 h-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12z"></path></svg>
            </div>
        </form>

        <div class="w-full flex justify-center mt-4">
            <a class="focus:outline-none rounded bg-blue-400 hover:bg-blue-500 border border-blue-500 text-white font-bold px-2 mx-2" href="/recent">Recent</a>
            <a class="focus:outline-none rounded bg-indigo-400 hover:bg-indigo-500 border border-indigo-500 text-white font-bold px-2 mx-2" href="/?q=Trump">Trump</a>
            <a class="focus:outline-none rounded bg-indigo-400 hover:bg-indigo-500 border border-indigo-500 text-white font-bold px-2 mx-2" href="/?q=COVID">COVID</a>
            <a class="focus:outline-none rounded bg-indigo-400 hover:bg-indigo-500 border border-indigo-500 text-white font-bold px-2 mx-2" href="/?q=citizenship">citizenship</a>
        </div>
    </div>


    {{range .Articles}}
        <!-- Article -->
        <div class="app-article flex w-full shadow rounded-lg my-5 text-sm {{if .IsRecent}}bg-orange-100{{else}}bg-gray-100{{end}}">
            <div class="w-1/4">
                <a class="flex" href="{{.URL}}" target="_blank">
                    <img
                        class="w-full {{if .Description}}h-7p5{{else}}h-20{{end}} rounded-tl-md rounded-bl-md object-cover object-center"
                        width="300"
                        loading="lazy"
                        alt="article-{{.ID}}-image"
                        src="{{if .LedeImg}}{{.LedeImg}}{{else}}https://via.placeholder.com/150X84/b7b1fa/000000?text={{.Source}}{{end}}"
                    >
                </a>
            </div>
            <div class="w-3/4 px-3 py-2">
                <p class="font-bold mt-1">
                    <a class="transition-colors duration-200 ease-in-out hover:text-blue-400" href="{{.URL}}" title="{{.Title}}" target="_blank">{{.DisplayTitle}}</a>
                </p>
                <p class="text-gray-600">{{.DisplayDescription}}</p>
                <div class="mt-3">
                    <span class="inline-block px-2 rounded-lg {{if .IsRecent}}bg-orange-300 text-orange-800{{else}}bg-gray-300 text-gray-800{{end}}">#{{.Source}}</span>
                    &nbsp;
                    <span class="text-gray-800">{{.RelativeDate}}</span>
                </div>
            </div>
        </div>
    {{else}}
        <!-- Not Found -->
        <div class="app-no-results flex w-full rounded-lg my-12 xbg-gray-100 text-sm">
            <p class="flex m-auto items-center xmy-2 xpy-2 xrounded xbg-gray-100">
                <svg class="w-5 h-5 text-gray-500 fill-current mr-3" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 124 124">
                    <g xmlns="http://www.w3.org/2000/svg">
                        <path d="M62,0C27.8,0,0,27.8,0,62s27.8,62,62,62s62-27.8,62-62S96.2,0,62,0z M62,109c-25.9,0-47-21.1-47-47c0-25.9,21.1-47,47-47   c25.9,0,47,21.1,47,47C109,87.9,87.9,109,62,109z"></path>
                        <path d="M65,23h-6c-3.3,0-6,2.7-6,6v41c0,3.3,2.7,6,6,6h6c3.3,0,6-2.7,6-6V29C71,25.7,68.3,23,65,23z"></path>
                        <circle cx="62" cy="91.5" r="9"></circle>
                    </g>
                </svg>
                <span class="text-gray-600">Oops, no articles were found. Try searching for something else.</span>
            </p>
        </div>
    {{end}}

    {{if and .Articles .Pagination}}
        <!-- Load More -->
        <button id="load-more" class="w-full my-2 py-2 rounded bg-gray-100 focus:outline-none hover:bg-gray-200 active:heavy-gray border border-gray-400">Load More</button>
    {{end}}

    <footer class="text-center my-8">
        Made by <a class="underline" href="https://twitter.com/tunedmystic" target="_blank">Sandeep</a> ¬∑ üôÇ ¬∑ <a class="underline" href="https://github.com/tunedmystic/dacabot" target="_blank">View it on GitHub</a>
    </footer>

</div>



{{template "footer"}}
{{end}}

